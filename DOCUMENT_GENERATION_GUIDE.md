# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã (–∂–∞–ª–æ–±—ã, –∑–∞—è–≤–ª–µ–Ω–∏—è, –∏—Å–∫–∏, —Ö–æ–¥–∞—Ç–∞–π—Å—Ç–≤–∞ –∏ —Ç.–¥.) –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∏—Ö —Å–æ–∑–¥–∞–Ω–∏–µ.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Backend (chatService.js)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞ LLM:**
1. **–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è** (2-3 –∞–±–∑–∞—Ü–∞) - –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –∏ –µ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
2. **–†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å** `---` - –æ—Ç–¥–µ–ª—è–µ—Ç –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é –æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞
3. **–ì–æ—Ç–æ–≤—ã–π –¥–æ–∫—É–º–µ–Ω—Ç** - –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –ø—Ä–æ–ø—É—Å–∫–∞–º–∏
4. **–ú–∞—Ä–∫–µ—Ä** `üìÑ –î–û–ö–£–ú–ï–ù–¢ –ì–û–¢–û–í –ö –°–ö–ê–ß–ò–í–ê–ù–ò–Æ` - –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –≥–æ—Ç–æ–≤–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞

**–ü—Ä–∞–≤–∏–ª–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:**
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (fullName, firstName, lastName, address, phone, email, passportSeries, passportNumber, birthDate, snils)
- –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç ‚Üí –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª–∏–Ω–Ω—ã–µ –ø—Ä–æ–ø—É—Å–∫–∏: `_____________________` (–º–∏–Ω–∏–º—É–º 20 —Å–∏–º–≤–æ–ª–æ–≤)
- –ù–ï –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã —Ç–∏–ø–∞ `[–§–ò–û]`, `[–¥–∞—Ç–∞]`, `[–∞–¥—Ä–µ—Å]`
- –î–æ–∫—É–º–µ–Ω—Ç –≥–æ—Ç–æ–≤ –∫ –ø–µ—á–∞—Ç–∏ –∏ –ø–æ–¥–∞—á–µ –≤ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—Ä–≥–∞–Ω—ã

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```
–Ø –ø–æ–º–æ–≥—É –≤–∞–º —Å–æ—Å—Ç–∞–≤–∏—Ç—å –∂–∞–ª–æ–±—É –Ω–∞ –¥–µ–π—Å—Ç–≤–∏—è —É—á–∞—Å—Ç–∫–æ–≤–æ–≥–æ. –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –ø–æ–¥–∞–µ—Ç—Å—è –≤ –ø—Ä–æ–∫—É—Ä–∞—Ç—É—Ä—É –∏–ª–∏ –≤—ã—à–µ—Å—Ç–æ—è—â–µ–º—É –¥–æ–ª–∂–Ω–æ—Å—Ç–Ω–æ–º—É –ª–∏—Ü—É –≤ —Ç–µ—á–µ–Ω–∏–µ 10 –¥–Ω–µ–π —Å –º–æ–º–µ–Ω—Ç–∞ –Ω–∞—Ä—É—à–µ–Ω–∏—è –≤–∞—à–∏—Ö –ø—Ä–∞–≤.

---

–ñ–ê–õ–û–ë–ê
–Ω–∞ –¥–µ–π—Å—Ç–≤–∏—è —É—á–∞—Å—Ç–∫–æ–≤–æ–≥–æ —É–ø–æ–ª–Ω–æ–º–æ—á–µ–Ω–Ω–æ–≥–æ –ø–æ–ª–∏—Ü–∏–∏

                                                                    –í –ü—Ä–æ–∫—É—Ä–∞—Ç—É—Ä—É _____________________
                                                                    –æ—Ç –ò–≤–∞–Ω–æ–≤–∞ –ò–≤–∞–Ω–∞ –ò–≤–∞–Ω–æ–≤–∏—á–∞,
                                                                    –ø—Ä–æ–∂–∏–≤–∞—é—â–µ–≥–æ –ø–æ –∞–¥—Ä–µ—Å—É: –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 1,
                                                                    —Ç–µ–ª.: +7 (999) 123-45-67

–Ø, –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á, –ø–∞—Å–ø–æ—Ä—Ç —Å–µ—Ä–∏—è 1234 ‚Ññ 567890, –æ–±—Ä–∞—â–∞—é—Å—å —Å –∂–∞–ª–æ–±–æ–π...

–î–∞—Ç–∞: 13.10.2025                                                                                    –ü–æ–¥–ø–∏—Å—å: _____________________

üìÑ –î–û–ö–£–ú–ï–ù–¢ –ì–û–¢–û–í –ö –°–ö–ê–ß–ò–í–ê–ù–ò–Æ
```

### Frontend

#### useChat.js

**–§—É–Ω–∫—Ü–∏—è `extractDocumentContent`:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –º–∞—Ä–∫–µ—Ä–∞ `üìÑ –î–û–ö–£–ú–ï–ù–¢ –ì–û–¢–û–í –ö –°–ö–ê–ß–ò–í–ê–ù–ò–Æ`
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–µ–∫—Å—Ç –º–µ–∂–¥—É —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–º `---` –∏ –º–∞—Ä–∫–µ—Ä–æ–º
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–æ–∫—É–º–µ–Ω—Ç (–±–µ–∑ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏) –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è

**–§—É–Ω–∫—Ü–∏—è `isDocumentMessage`:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –º–∞—Ä–∫–µ—Ä–∞ –≤ –∫–æ–Ω—Ç–µ–Ω—Ç–µ
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –Ω—É–∂–Ω–æ –ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É —Å–∫–∞—á–∏–≤–∞–Ω–∏—è

#### ChatMessage.js

**–†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –¥–æ–∫—É–º–µ–Ω—Ç–æ–º:**
1. –†–∞–∑–¥–µ–ª—è–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–∞:
   - **–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é** (–¥–æ `---`)
   - **–î–æ–∫—É–º–µ–Ω—Ç** (–º–µ–∂–¥—É `---` –∏ –º–∞—Ä–∫–µ—Ä–æ–º)
2. –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é –∫–∞–∫ –æ–±—ã—á–Ω—ã–π Markdown
3. –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ `.chat-doc-container` —Å:
   - –ó–∞–≥–æ–ª–æ–≤–∫–æ–º "–ì–æ—Ç–æ–≤—ã–π –¥–æ–∫—É–º–µ–Ω—Ç"
   - –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞ (—Å –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π, max-height: 400px)
   - –ö–Ω–æ–ø–∫–æ–π "–°–∫–∞—á–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç"

#### ChatMessage.css

**–°—Ç–∏–ª–∏ –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:**
- `.chat-doc-container` - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞ (–±–µ–ª—ã–π —Ñ–æ–Ω, —Ä–∞–º–∫–∞)
- `.chat-doc-header` - –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å –∏–∫–æ–Ω–∫–æ–π
- `.chat-doc-content` - –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞ (—à—Ä–∏—Ñ—Ç Times New Roman, —á–µ—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç –Ω–∞ –±–µ–ª–æ–º)
- `.btn-download-doc` - –∫–Ω–æ–ø–∫–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è (—á–µ—Ä–Ω–∞—è —Ä–∞–º–∫–∞, –±–µ–ª—ã–π —Ñ–æ–Ω)

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—Ä–æ—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã:
- "–°–æ—Å—Ç–∞–≤—å –∂–∞–ª–æ–±—É –Ω–∞ —É—á–∞—Å—Ç–∫–æ–≤–æ–≥–æ"
- "–ù–∞–ø–∏—à–∏ –∑–∞—è–≤–ª–µ–Ω–∏–µ –≤ —Å—É–¥"
- "–°–æ–∑–¥–∞–π –¥–æ–≥–æ–≤–æ—Ä –∞—Ä–µ–Ω–¥—ã"
- "–ü–æ–¥–≥–æ—Ç–æ–≤—å —Ö–æ–¥–∞—Ç–∞–π—Å—Ç–≤–æ"

### –ó–∞–ø—Ä–æ—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –ù–ï –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã:
- "–ö–∞–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω—É–∂–Ω—ã –¥–ª—è –∫—Ä–µ–¥–∏—Ç–∞?"
- "–†–∞—Å—Å–∫–∞–∂–∏ –ø—Ä–æ —Ç—Ä—É–¥–æ–≤–æ–µ –ø—Ä–∞–≤–æ"
- "–ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ —É–≤–æ–ª—å–Ω–µ–Ω–∏–∏?"

## Workflow

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞
2. LLM –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–º –∏ –º–∞—Ä–∫–µ—Ä–æ–º
3. Frontend —Ä–∞–∑–±–∏—Ä–∞–µ—Ç –æ—Ç–≤–µ—Ç –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é –∏ –¥–æ–∫—É–º–µ–Ω—Ç
4. –î–æ–∫—É–º–µ–Ω—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –∫—Ä–∞—Å–∏–≤–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ —Å –∫–Ω–æ–ø–∫–æ–π —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
5. –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É:
   - –ò–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞ (–±–µ–∑ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –∏ –º–∞—Ä–∫–µ—Ä–∞)
   - –°–æ–∑–¥–∞–µ—Ç—Å—è DOCX —Ñ–∞–π–ª —á–µ—Ä–µ–∑ backend API `/api/chat/generate-docx`
   - –§–∞–π–ª —Å–∫–∞—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Backend API
- **POST** `/api/chat` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ —Å –¥–æ–∫—É–º–µ–Ω—Ç–æ–º
- **POST** `/api/chat/generate-docx` - –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ –≤ DOCX
- **POST** `/api/chat/generate-pdf` - –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ –≤ PDF
- **POST** `/api/chat/email-document` - –æ—Ç–ø—Ä–∞–≤–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –ø–æ email

### –§–æ—Ä–º–∞—Ç—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- **DOCX** - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ—Ä–º–∞—Ç (—á–µ—Ä–µ–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫—É docx)
- **PDF** - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç (—á–µ—Ä–µ–∑ jsPDF)
- –û–±–∞ —Ñ–æ—Ä–º–∞—Ç–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É

## –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–ú–∞—Ä–∫–µ—Ä –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω** - –±–µ–∑ –Ω–µ–≥–æ –∫–Ω–æ–ø–∫–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –Ω–µ –ø–æ—è–≤–∏—Ç—Å—è
2. **–†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å `---` –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω** - –±–µ–∑ –Ω–µ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç –±—É–¥–µ—Ç –∏–∑–≤–ª–µ—á–µ–Ω –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
3. **–î–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è** - LLM –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. **–ü—Ä–æ–ø—É—Å–∫–∏** - –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª–∏–Ω–Ω—ã–µ –ø—Ä–æ–ø—É—Å–∫–∏ `_____________________` –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è
5. **–ß–µ—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç –Ω–∞ –±–µ–ª–æ–º —Ñ–æ–Ω–µ** - –¥–æ–∫—É–º–µ–Ω—Ç –≥–æ—Ç–æ–≤ –∫ –ø–µ—á–∞—Ç–∏ –∏ –ø–æ–¥–∞—á–µ

## –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞ –ø–µ—Ä–µ–¥ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ–º
- [ ] –î–æ–±–∞–≤–∏—Ç—å —à–∞–±–ª–æ–Ω—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∏–∑ –±–∞–∑—ã —Å—É–¥–µ–±–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –¥–æ–∫—É–º–µ–Ω—Ç–∞ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º

